@testable import IG
import ReactiveSwift
import XCTest

class DBMarketTests: XCTestCase {
    /// Tests the creation of an "in-memory" database.
    func testIntroduction() {
        let db = Test.makeDatabase(rootURL: nil, targetQueue: nil)
        
        var markets: [(epic: IG.Market.Epic, type: IG.DB.Market.Kind)] = [
            Self.forex.map { ($0, .currencies) },
            Self.forexMini.map { ($0, .currencies) },
            Self.crypto.map { ($0, .currencies) },
            Self.commodities.map { ($0, .commodities) },
            Self.bondsRates.map { ($0, .rates) },
            Self.bondsRatesMini.map { ($0, .rates) }
        ].flatMap { $0 }
        markets.sort { $0.epic.rawValue > $1.epic.rawValue }
        
        try! db.markets.insert(markets).single()!.get()
        
        var dbMarkets = try! db.markets.getAll().single()!.get()
        dbMarkets.sort { $0.epic.rawValue > $1.epic.rawValue }
        
        XCTAssertEqual(markets.count, dbMarkets.count)
        for (code, stored) in zip(markets, dbMarkets) {
            XCTAssertEqual(code.epic.rawValue, stored.epic.rawValue)
        }
    }
    
    func testForex() {
        let api = Test.makeAPI(rootURL: Test.account.api.rootURL, credentials: Test.credentials.api, targetQueue: nil)
        var result = "\n"
        
        let markets = Self.bondsRates + Self.bondsRatesMini
        for (chunkIndex, chunk) in markets.chunked(into: 49).enumerated() {
            print("Processing chunk \(chunkIndex)")
            
            let retrieved = try! api.markets.get(epics: .init(chunk)).single()!.get()
            for market in retrieved {
                result.append(market.debugDescription)
                result.append("------------------------------------------------------------------\n")
            }
        }
        
        result.append("\n")
        print(result)
    }
    
    static let forex: [IG.Market.Epic] = ["CS.D.CADNOK.CFD.IP","CS.D.CHFNOK.CFD.IP","CS.D.EURDKK.CFD.IP","CS.D.EURNOK.CFD.IP","CS.D.EURSEK.CFD.IP","CS.D.GBPDKK.CFD.IP","CS.D.GBPNOK.CFD.IP","CS.D.GBPSEK.CFD.IP","CS.D.NOKSEK.CFD.IP","CS.D.USDDKK.CFD.IP","CS.D.USDNOK.CFD.IP","CS.D.USDSEK.CFD.IP","CS.D.CHFHUF.CFD.IP","CS.D.EURCZK.CFD.IP","CS.D.EURHUF.CFD.IP","CS.D.EURMXN.CFD.IP","CS.D.EURPLN.CFD.IP","CS.D.EURTRY.CFD.IP","CS.D.GBPCZK.CFD.IP","CS.D.GBPHUF.CFD.IP","CS.D.GBPMXN.CFD.IP","CS.D.GBPPLN.CFD.IP","CS.D.GBPTRY.CFD.IP","CS.D.TRYJPY.CFD.IP","CS.D.USDCZK.CFD.IP","CS.D.USDHUF.CFD.IP","CS.D.USDMXN.CFD.IP","CS.D.USDPLN.CFD.IP","CS.D.USDTRY.CFD.IP","CS.D.CNHJPY.CFD.IP","CS.D.BRLJPY.CFD.IP","CS.D.GBPINR.CFD.IP","CS.D.INRJPY.CFD.IP","CS.D.USDBRL.CFD.IP","CS.D.USDIDR.CFD.IP","CS.D.USDINR.CFD.IP","CS.D.USDKRW.CFD.IP","CS.D.USDPHP.CFD.IP","CS.D.USDTWD.CFD.IP","CS.D.AUDCAD.CFD.IP","CS.D.AUDCHF.CFD.IP","CS.D.AUDEUR.CFD.IP","CS.D.AUDGBP.CFD.IP","CS.D.AUDJPY.CFD.IP","CS.D.AUDNZD.CFD.IP","CS.D.AUDSGD.CFD.IP","CS.D.EURAUD.CFD.IP","CS.D.EURNZD.CFD.IP","CS.D.GBPAUD.CFD.IP","CS.D.GBPNZD.CFD.IP","CS.D.NZDAUD.CFD.IP","CS.D.NZDCAD.CFD.IP","CS.D.NZDCHF.CFD.IP","CS.D.NZDEUR.CFD.IP","CS.D.NZDGBP.CFD.IP","CS.D.NZDJPY.CFD.IP","CS.D.NZDUSD.CFD.IP","CS.D.CADCHF.CFD.IP","CS.D.CADJPY.CFD.IP","CS.D.CHFJPY.CFD.IP","CS.D.EURCAD.CFD.IP","CS.D.EURSGD.CFD.IP","CS.D.EURZAR.CFD.IP","CS.D.GBPCAD.CFD.IP","CS.D.GBPCHF.CFD.IP","CS.D.GBPJPY.CFD.IP","CS.D.GBPSGD.CFD.IP","CS.D.GBPZAR.CFD.IP","CS.D.MXNJPY.CFD.IP","CS.D.NOKJPY.CFD.IP","CS.D.PLNJPY.CFD.IP","CS.D.RUBJPY.CFD.IP","CS.D.SEKJPY.CFD.IP","CS.D.SGDJPY.CFD.IP","CS.D.USDHKD.CFD.IP","CS.D.USDSGD.CFD.IP","CS.D.USDZAR.CFD.IP", "CS.D.AUDUSD.CFD.IP","CS.D.EURCHF.CFD.IP","CS.D.EURGBP.CFD.IP","CS.D.EURJPY.CFD.IP","CS.D.EURUSD.CFD.IP","CS.D.GBPEUR.CFD.IP","CS.D.GBPUSD.CFD.IP","CS.D.USDCAD.CFD.IP","CS.D.USDCHF.CFD.IP","CS.D.USDJPY.CFD.IP","CO.D.DX.FCS1.IP"]
    static let forexMini: [IG.Market.Epic] = ["CS.D.CADNOK.MINI.IP","CS.D.CHFNOK.MINI.IP","CS.D.EURDKK.MINI.IP","CS.D.EURNOK.MINI.IP","CS.D.EURSEK.MINI.IP","CS.D.GBPDKK.MINI.IP","CS.D.GBPNOK.MINI.IP","CS.D.GBPSEK.MINI.IP","CS.D.NOKSEK.MINI.IP","CS.D.USDDKK.MINI.IP","CS.D.USDNOK.MINI.IP","CS.D.USDSEK.MINI.IP","CS.D.CHFHUF.MINI.IP","CS.D.EURCZK.MINI.IP","CS.D.EURHUF.MINI.IP","CS.D.EURMXN.MINI.IP","CS.D.EURPLN.MINI.IP","CS.D.EURTRY.MINI.IP","CS.D.GBPCZK.MINI.IP","CS.D.GBPHUF.MINI.IP","CS.D.GBPMXN.MINI.IP","CS.D.GBPPLN.MINI.IP","CS.D.GBPTRY.MINI.IP","CS.D.TRYJPY.MINI.IP","CS.D.USDCZK.MINI.IP","CS.D.USDHUF.MINI.IP","CS.D.USDMXN.MINI.IP","CS.D.USDPLN.MINI.IP","CS.D.USDTRY.MINI.IP","CS.D.CNHJPY.MINI.IP","CS.D.BRLJPY.MINI.IP","CS.D.GBPINR.MINI.IP","CS.D.INRJPY.MINI.IP","CS.D.USDBRL.MINI.IP","CS.D.USDIDR.MINI.IP","CS.D.USDINR.MINI.IP","CS.D.USDKRW.MINI.IP","CS.D.USDPHP.MINI.IP","CS.D.USDTWD.MINI.IP","CS.D.AUDCAD.MINI.IP","CS.D.AUDCHF.MINI.IP","CS.D.AUDEUR.MINI.IP","CS.D.AUDGBP.MINI.IP","CS.D.AUDJPY.MINI.IP","CS.D.AUDNZD.MINI.IP","CS.D.AUDSGD.MINI.IP","CS.D.EURAUD.MINI.IP","CS.D.EURNZD.MINI.IP","CS.D.GBPAUD.MINI.IP","CS.D.GBPNZD.MINI.IP","CS.D.NZDAUD.MINI.IP","CS.D.NZDCAD.MINI.IP","CS.D.NZDCHF.MINI.IP","CS.D.NZDEUR.MINI.IP","CS.D.NZDGBP.MINI.IP","CS.D.NZDJPY.MINI.IP","CS.D.NZDUSD.MINI.IP","CS.D.CADCHF.MINI.IP","CS.D.CADJPY.MINI.IP","CS.D.CHFJPY.MINI.IP","CS.D.EURCAD.MINI.IP","CS.D.EURSGD.MINI.IP","CS.D.EURZAR.MINI.IP","CS.D.GBPCAD.MINI.IP","CS.D.GBPCHF.MINI.IP","CS.D.GBPJPY.MINI.IP","CS.D.GBPSGD.MINI.IP","CS.D.GBPZAR.MINI.IP","CS.D.MXNJPY.MINI.IP","CS.D.NOKJPY.MINI.IP","CS.D.PLNJPY.MINI.IP","CS.D.RUBJPY.MINI.IP","CS.D.SEKJPY.MINI.IP","CS.D.SGDJPY.MINI.IP","CS.D.USDHKD.MINI.IP","CS.D.USDSGD.MINI.IP","CS.D.USDZAR.MINI.IP","CS.D.AUDUSD.MINI.IP","CS.D.EURCHF.MINI.IP","CS.D.EURGBP.MINI.IP","CS.D.EURJPY.MINI.IP","CS.D.EURUSD.MINI.IP","CS.D.GBPEUR.MINI.IP","CS.D.GBPUSD.MINI.IP","CS.D.USDCAD.MINI.IP","CS.D.USDCHF.MINI.IP","CS.D.USDJPY.MINI.IP"]
    static let crypto: [IG.Market.Epic] = ["CS.D.XLMUSD.CFD.IP","CS.D.XRPUSD.CFD.IP","CS.D.NEOUSD.CFD.IP","CS.D.NEOUSD.CFE.IP","CS.D.LTCUSD.CFD.IP","CS.D.LTCUSD.CFE.IP","CS.D.ETHXBT.CFD.IP","CS.D.ETHXBT.CFE.IP","CS.D.ETHUSD.CFD.IP","CS.D.ETHUSD.CFE.IP","CS.D.EOSUSD.CFD.IP","CS.D.CRYPTOB10.CFD.IP","CS.D.BCHXBT.CFD.IP","CS.D.BCHUSD.CFD.IP","CS.D.BCHUSD.CFE.IP","CS.D.BITCOIN.CFD.IP","CS.D.BITCOIN.CFE.IP"]
    static let commodities: [IG.Market.Epic] = ["CO.D.DX.FCM1.IP"]
    static let bondsRates: [IG.Market.Epic] = ["IR.D.IB.FWS8.IP","IR.D.IB.FWS2.IP","IR.D.IB.FWS5.IP","IR.D.IB.FWS4.IP","IR.D.JGB.FWS1.IP","IR.D.FGBM.FWS1.IP","CC.D.FGBL.UNC.IP","IR.D.FGBL.FWS1.IP","IR.D.FGBX.FWS1.IP","IR.D.FBTP.FWS1.IP","IR.D.FOAT.FWS1.IP","IR.D.FGBS.FWS.IP","IR.D.FES.FWS4.IP","IR.D.FEI.FWS4.IP","IR.D.FEI.FWS6.IP","IR.D.FEI.FWS7.IP","IR.D.FEI.FWS8.IP","IR.D.FEI.FWS9.IP","IR.D.FEI.FWS10.IP","IR.D.10YEAR100.FWS2.IP","IR.D.02YEAR100.FWS2.IP","IR.D.05YEAR100.FWS2.IP","IR.D.BOND100.FWS2.IP","IR.D.ULTRA100.FWS2.IP","IR.D.ED.FWS8.IP","IR.D.ED.FWS1.IP","IR.D.ED.FWS4.IP","IR.D.ED.FWS5.IP","IR.D.ED.FWS6.IP","IR.D.ED.FWS9.IP","IR.D.ED.FWS7.IP","IR.D.ED.FWS10.IP","IR.D.ED.FWS13.IP","IR.D.ED.FWS14.IP","IR.D.FF.FWS1.IP","IR.D.FF.FWS2.IP","IR.D.FSS.FWS3.IP","IR.D.FSS.FWS4.IP","IR.D.FSS.FWS5.IP","IR.D.FSS.FWS6.IP","IR.D.FSS.FWS7.IP","IR.D.FSS.FWS10.IP","IR.D.FSS.FWS8.IP","IR.D.FSS.FWS9.IP","IR.D.FSS.FWS2.IP","IR.D.FSS.FWS1.IP","IR.D.FLG.FWS1.IP"]
    static let bondsRatesMini: [IG.Market.Epic] = ["IR.D.IB.FWM8.IP","IR.D.IB.FWM5.IP","IR.D.IB.FWM2.IP","IR.D.IB.FWM4.IP","IR.D.10YEAR100.FWM2.IP","IR.D.02YEAR100.FWM2.IP","IR.D.05YEAR100.FWM2.IP","IR.D.BOND100.FWM2.IP","IR.D.ULTRA100.FWM2.IP","IR.D.FF.FWM1.IP","IR.D.FF.FWM2.IP","IR.D.ED.FWM8.IP","IR.D.ED.FWM1.IP","IR.D.ED.FWM4.IP","IR.D.ED.FWM5.IP","IR.D.ED.FWM7.IP","IR.D.ED.FWM9.IP","IR.D.ED.FWM6.IP","IR.D.ED.FWM10.IP","IR.D.ED.FWM13.IP","IR.D.ED.FWM14.IP","IR.D.FSS.FWM3.IP","IR.D.FSS.FWM4.IP","IR.D.FSS.FWM5.IP","IR.D.FSS.FWM6.IP","IR.D.FSS.FWM7.IP","IR.D.FSS.FWM10.IP","IR.D.FSS.FWM8.IP","IR.D.FSS.FWM9.IP","IR.D.FSS.FWM2.IP","IR.D.FSS.FWM11.IP","IR.D.FLG.FWM1.IP","IR.D.FGBM.FWM1.IP","CC.D.FGBL.UME.IP","IR.D.FGBL.FWM1.IP","IR.D.FGBX.FWM1.IP","IR.D.FBTP.FWM1.IP","IR.D.FOAT.FWM1.IP","IR.D.FGBS.FWM.IP","IR.D.FES.FWM4.IP","IR.D.FEI.FWM4.IP","IR.D.FEI.FWM6.IP","IR.D.FEI.FWM7.IP","IR.D.FEI.FWM8.IP","IR.D.FEI.FWM9.IP","IR.D.FEI.FWM10.IP","IR.D.JGB.FWM1.IP"]
}

//let paco = """
//264176, "Indices (mini)", [409073,264194]
//264194, "Stock Indices", [116533768,409015,518626,409025,409032,409036,409059,56584714,409054,409039,409030,409042,408906,264243,264216,264200,264199,264198,264206,264219,264218,264197,264215,264195]
//409073, "Other Indices", [409078,409146,409074]
//264195, "Spain", ["IX.D.IBEX.FWM2.IP","IX.D.IBEX.IFM.IP"]
//264215, "Sweden", ["IX.D.OMX.FWM2.IP","IX.D.OMX.IFM.IP"]
//264197, "Singapore", ["IX.D.SINGAPORE.FWM1.IP","IX.D.SINGAPORE.IFM.IP"]
//264218, "Netherlands", ["IX.D.AEX.FWM1.IP","IX.D.AEX.IFM.IP"]
//264219, "Other European", ["TM.D.ATX.FWM2.IP","IX.D.DEN25.IFM.IP","TM.D.ATHENS.IFM.IP","TM.D.ATHENS.FWM1.IP","TM.D.BUX.FWM1.IP","TM.D.BUX.IFM.IP","IX.D.OBX.FWM1.IP","IX.D.OBX.IFM.IP","IX.D.SMI.FWM1.IP","IX.D.SMI.IFM.IP"]
//264206, "Other Asian", ["IX.D.NIFTY.IFM.IP","TM.D.KLCI.IFM.IP"]
//264198, "Hong Kong", ["IX.D.HSCHIN.FWM1.IP","IX.D.HSCHIN.IFM.IP","IX.D.HANGSENG.FWM3.IP","IX.D.HANGSENG.IFM.IP"]
//264199, "France", ["IX.D.CAC.FWM2.IP","IX.D.CAC.IMF.IP","IX.D.CAC.IFM.IP"]
//264200, "FTSE 100", ["IX.D.FTSE.FWM2.IP","IX.D.FTSE.IFM.IP","IX.D.FTSE.IFE.IP"]
//264216, "EU Stocks 50", ["IX.D.STXE.FWM2.IP","IX.D.STXE.IFM.IP"]
//264243, "China A50", ["IX.D.XINHUA.IFM.IP"]
//408906, "Wall St.", ["IX.D.DOW.FWM.IP","IX.D.DOW.IFE.IP"]
//409042, "US 500", ["IX.D.SPTRD.FWM2.IP","IX.D.SPTRD.IFM.IP","IX.D.SPTRD.IFE.IP"]
//409030, "Tech 100", ["IX.D.NASDAQ.FWM2.IP","IX.D.NASDAQ.IFM.IP","IX.D.NASDAQ.IFE.IP"]
//409039, "South Africa", ["IX.D.SAF.FWM1.IP","IX.D.SAF.IFM.IP","IX.D.SAF.IFMM.IP"]
//409054, "Russell 2000", ["IX.D.RUSSELL.FWM1.IP","IX.D.RUSSELL.IFM.IP"]
//56584714, "NYSE Fang", ["IX.D.FANG.IFM.IP"]
//409059, "Mexico", ["TM.D.MEX.FWM2.IP","TM.D.MEX.IFM.IP"]
//409036, "Japan", ["IX.D.NIKFUT.FWM2.IP","IX.D.NIKKEI.IFM.IP"]
//409032, "Italy", ["IX.D.MIB.FWM2.IP","IX.D.MIB.IFM.IP"]
//409025, "Germany", ["IX.D.DAX.FWM2.IP","IX.D.DAX.IFMM.IP","TM.D.MDAX.FWM2.IP","TM.D.MDAX.IFM.IP","TM.D.TECDAX.FWM2.IP","TM.D.TECDAX.IFM.IP"]
//518626, "Brazil 60"
//409015, "Australia", ["IX.D.ASX.FWM2.IP","IX.D.ASX.IFM.IP"]
//116533768, "All", ["IX.D.TAIEX.IFU.IP","IX.D.TAIEX.IFM.IP"]
//409074, "Volatility Index", ["IN.D.VIX.FWM2.IP","IN.D.VIX.FWM4.IP","CC.D.VIX.UME.IP"]
//409146, "US Dollar Basket", ["CO.D.DX.FWM1.IP","CC.D.DX.UME.IP"]
//409078, "EU Volatility Index", ["IN.D.VSTOXX.FWM2.IP","IN.D.VSTOXX.FWM5.IP"]
//
//5371876, "Weekend Indices", [5371880]
//5371880, "Stock Indices", [5371882,5371884,5371881]
//5371881, "Wall St.", ["IX.D.SUNDOW.IFE.IP"]
//5371884, "Germany", ["IX.D.SUNDAX.IFMM.IP"]
//5371882, "FTSE 100", ["IX.D.SUNFUN.IFE.IP"]
//
//101515, "Commodities Metals Energies", [101516,104138,105505]
//105505, "Soft Commodities", [108632,108523,105507,108268,105508,107024,108255,105506,108460,106214]
//104138, "Metals", [392968,581643,581646,104139,104140]
//101516, "Energies", [455776,107906]
//106214, "Wheat", ["CC.D.W.UNC.IP","CO.D.W.FWS4.IP","CO.D.LWB.FWS1.IP"]
//108460, "Sugar", ["CC.D.LSU.UNC.IP","CO.D.LSU.FWS3.IP","CC.D.SB.UNC.IP"]
//105506, "Soya Based Products", ["CC.D.SM.UNC.IP","CO.D.SM.FWS2.IP","CC.D.BO.UNC.IP","CO.D.BO.FWS4.IP","CC.D.S.UNC.IP","CO.D.S.FWS1.IP"]
//108255, "Other", ["CC.D.LB.UNC.IP","CO.D.LB.FWS2.IP","CC.D.OJ.UNC.IP","CC.D.RR.UNC.IP","CO.D.RR.FWS2.IP"]
//107024, "Oats", ["CO.D.O.FWS2.IP"]
//105508, "Livestock", ["CO.D.LH.FWS2.IP","CC.D.LC.UNC.IP","CO.D.LC.FWS2.IP"]
//108268, "Cotton", ["CC.D.CT.UNC.IP"]
//105507, "Corn", ["CC.D.C.UNC.IP","CO.D.C.FWS2.IP"]
//108523, "Coffee", ["CC.D.KC.UNC.IP","CC.D.LKD.UNC.IP","CO.D.LKD.FWS2.IP","CO.D.LKD.FWS.IP"]
//108632, "Cocoa", ["CC.D.LCC.UNC.IP","CO.D.LCC.FWS7.IP","CC.D.CC.UNC.IP"]
//104140, "Silver", ["MT.D.SI.FWS2.IP","CS.D.CFDSILVER.CFDSI.IP"]
//104139, "Gold", ["MT.D.GC.FWS2.IP","CS.D.CFDGOLD.CFDGC.IP"]
//581646, "Platinum", ["MT.D.PL.FWS1.IP","CS.D.PLAT.CFD.IP"]
//581643, "Palladium", ["MT.D.PA.FWS2.IP","CS.D.PALL.CFD.IP"]
//392968, "Base Metals", ["CS.D.ALUMINIUM.CFD.IP","CS.D.COPPER.CFD.IP","CC.D.HG.UNC.IP","MT.D.HG.FWS1.IP","CS.D.LEAD.CFD.IP","CS.D.NICKEL.CFD.IP","CS.D.ZINC.CFD.IP"]
//107906, "Other Energies", ["CO.D.CFI.FWS1.IP","CC.D.FCPO.UNC.IP","CC.D.HO.UNC.IP","EN.D.HO.FWS1.IP","EN.D.LGO.FWS2.IP","CC.D.NG.UNC.IP","EN.D.NG.FWS1.IP","CC.D.RB.UNC.IP","EN.D.RB.FWS2.IP"]
//455776, "Oil", ["CC.D.LCO.UNC.IP","EN.D.LCO.FWJ5.IP","EN.D.LCO.FWS6.IP","EN.D.LCO.FWS2.IP","EN.D.LCO.MTF.IP","CC.D.CL.UNC.IP","EN.D.CL.FWS2.IP","EN.D.CL.FWS1.IP","EN.D.CL.MTF.IP"]
//
//264151, "Commodities Metals Energies (mini)", [264233,264209,264222]
//264222, "Soft Commodities", [264230,264229,264226,264228,264224,264238,264232,264223,264227,264231]
//264209, "Metals", [392969,581644,581647,264244,264211]
//264233, "Energies", [455777,264234]
//264231, "Wheat", ["CO.D.W.FWM4.IP","CC.D.W.UME.IP","CO.D.LWB.FWM1.IP"]
//264227, "Sugar", ["CO.D.LSU.FWM3.IP","CC.D.LSU.UME.IP","CC.D.SB.UME.IP"]
//264223, "Soya Based Products", ["CO.D.SM.FWM2.IP","CC.D.SM.UME.IP","CO.D.BO.FWM4.IP","CC.D.BO.UME.IP","CO.D.S.FWM1.IP","CC.D.S.UME.IP"]
//264232, "Other", ["CO.D.LB.FWM2.IP","CC.D.LB.UME.IP","CC.D.OJ.UME.IP","CO.D.RR.FWM2.IP","CC.D.RR.UME.IP"]
//264238, "Oats", ["CO.D.O.FWM2.IP"]
//264224, "Livestock", ["CO.D.LH.FWM2.IP","CO.D.LC.FWM2.IP","CC.D.LC.UME.IP"]
//264228, "Cotton", ["CC.D.CT.UME.IP"]
//264226, "Corn", ["CO.D.C.FWM2.IP","CC.D.C.UME.IP"]
//264229, "Coffee", ["CC.D.KC.UME.IP","CO.D.LKD.FWM2.IP","CO.D.LKD.FWM1.IP","CC.D.LKD.UME.IP"]
//264230, "Cocoa", ["CO.D.LCC.FWM7.IP","CC.D.LCC.UME.IP","CC.D.CC.UME.IP"]
//264211, "Silver", ["CS.D.CFDSILVER.CFM.IP","MT.D.SI.FWM2.IP"]
//264244, "Gold", ["MT.D.GC.FWM2.IP","CS.D.CFEGOLD.CFE.IP","CS.D.CFDGOLD.CFM.IP"]
//581647, "Platinum", ["MT.D.PL.FWM1.IP","CS.D.PLAT.CFM.IP"]
//581644, "Palladium", ["MT.D.PA.FWM2.IP","CS.D.PALL.CFM.IP"]
//392969, "Base Metals", ["CS.D.ALUMINIUM.MINI.IP","CS.D.COPPER.MINI.IP","MT.D.HG.FWM1.IP","CC.D.HG.UME.IP","CC.D.IRON.UME.IP","CS.D.LEAD.MINI.IP","CS.D.NICKEL.MINI.IP","CS.D.ZINC.MINI.IP"]
//264234, "Other Energies", ["CO.D.CFI.FWM1.IP","CC.D.FCPO.UME.IP","EN.D.HO.FWM1.IP","CC.D.HO.UME.IP","EN.D.LGO.FWM2.IP","EN.D.NG.FWM1.IP","CC.D.NG.UME.IP","EN.D.RB.FWM2.IP","CC.D.RB.UME.IP"]
//455777, "Oil", ["EN.D.LCO.FGT6.IP","EN.D.LCO.FJM6.IP","EN.D.LCO.FWM6.IP","EN.D.LCO.FWM2.IP","CC.D.LCO.UME.IP","EN.D.CL.FWM2.IP","EN.D.CL.FWM1.IP","CC.D.CL.UME.IP","EN.D.CL.FWE3.IP","EN.D.CL.FWE2.IP"]
//
//
//97601, "Indices", [409071,409161,97606,198048]
//170630, "SharesMIB (Italy)", [410148,410216,410308,70593345,410423,410427,410321,410767,410790,631268,170631,170639,170653,170656,170659,170678,170688,170718,170758,170760,170766,170782,170745,170742]
//169591, "SharesEuronext (Portugal)", [414307,414369,414326,169625,169605,169594,169596,169599,169632,169628,169617,169620,169603]
//169329, "SharesEuronext (Belgium)", [417395,480762,564666,678337,417462,622759,535808,417508,525835,608253,169348,169330,169332,169334,169363,169369,169343,189208,169367,169354,169350]
//170023, "SharesEuronext (Netherlands)", [419184,419271,419221,376708,419418,419399,429217,170028,170038,170033,170052,270638,170072,170081,170024,170085,170069,170043,170045,170054,170056,170058]
//170471, "SharesJSE (South Africa)", [413875,413815,413899,413797,414151,414141,413786,413953,414000,414106,413774,414080,415186,415209,415330,413725,409127,413852,418278,414115,418243,170472,170514]
//169656, "SharesEuronext (France)", [425257,112867172,626187,169693,169661,169657,169666,169663,169680,169678,169685,169675,169732,169784,169740,169791,169689,169821,169804,169828,169715,169700,169861,169734,169713,169779]
//171438, "SharesXETRA (Germany)", [415049,416630,416878,416790,416632,510634,416809,171439,171459,171452,171474,171546,171549,171557,171466,171570,171582,171584,171590,171680,171714,171604,171528,171787,171821,171607]
//177223, "SharesNYSE (US)", [436149]
//172904, "SharesLSE (UK)", [116983425,104324376,104686941,415487,410850,173269,173277,174987,175041,175084,175159,173029,175228,175299,173685,173672,173713,173738,173873,173870,175445,175480,175528,175580,174092,175632,175694,173324,173659,172950,175714,175752,175812,173849,173863,175846,175915,174066,174637,174635,174654,176069,174132,174744,174739,174437,174455,173500,174472]
//99579647, "SharesEuronext Dublin (Ireland)", [99579648]
//184730, "ETFs, ETCs & Trackers", [411538,5024120,493322,184759,184737,197491,197536,197539,197788,197818,197495,197759]
//"""
